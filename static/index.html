<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI 여행 코스 플래너</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="style.css" />
    
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>AI Travel Planner ✈️</h1>
            <p>단 몇 번의 클릭으로, 당신만을 위한 특별한 여행을 만들어보세요.</p>
            <nav class="main-nav">
                <a href="/explore" class="nav-link">추천 코스 둘러보기</a>
            </nav>
        </header>
        <main>
            <form id="planner-form">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="destination">어디로 떠나시나요?</label>
                        <input type="text" id="destination" required placeholder="예: 경주, 제주도">
                    </div>
                    <div class="form-group">
                        <label for="duration">몇 박 몇 일 일정인가요?</label>
                        <select id="duration" required>
                            <option value="당일치기">당일치기</option>
                            <option value="1박 2일">1박 2일</option>
                            <option value="2박 3일" selected>2박 3일</option>
                            <option value="3박 4일">3박 4일</option>
                            <option value="4박 5일">4박 5일</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="arrival-time">첫날 도착 예정 시간</label>
                        <select id="arrival-time">
                            <option value="오전 (아침부터 시작)">오전 (아침부터 시작)</option>
                            <option value="점심 (점심부터 시작)" selected>점심 (점심부터 시작)</option>
                            <option value="오후 (저녁부터 시작)">오후 (저녁부터 시작)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="companions">누구와 함께 가시나요?</label>
                        <select id="companions">
                            <option value="혼자">혼자</option>
                            <option value="커플/부부" selected>커플/부부</option>
                            <option value="가족 (어린이 동반)">가족 (어린이 동반)</option>
                            <option value="친구들과">친구들과</option>
                            <option value="부모님과 함께">부모님과 함께</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="pace">여행 속도는 어떻게 할까요?</label>
                        <select id="pace">
                            <option value="여유롭게(힐링)">여유롭게(힐링)</option>
                            <option value="보통" selected>보통</option>
                            <option value="알차게(빡빡하게)">알차게(빡빡하게)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="departure-time">마지막 날 출발 예정 시간</label>
                        <select id="departure-time">
                            <option value="오전 (아침만 먹고 출발)">오전 (아침만 먹고 출발)</option>
                            <option value="점심 (점심 먹고 출발)">점심 (점심 먹고 출발)</option>
                            <option value="오후 (저녁까지 즐기기)" selected>오후 (저녁까지 즐기기)</option>
                        </select>
                    </div>

                    <div class="form-group form-group-full" id="activities">
                        <label>어떤 활동을 선호하시나요?</label>
                        <div class="checkbox-group">
                            <div class="checkbox-item"><input type="checkbox" id="act1" value="자연/풍경"><label for="act1">🌳 자연/풍경</label></div>
                            <div class="checkbox-item"><input type="checkbox" id="act2" value="역사/문화 유적" checked><label for="act2">🏛️ 역사/문화</label></div>
                            <div class="checkbox-item"><input type="checkbox" id="act3" value="맛집/카페 투어" checked><label for="act3">🍜 맛집/카페</label></div>
                            <div class="checkbox-item"><input type="checkbox" id="act4" value="쇼핑"><label for="act4">🛍️ 쇼핑</label></div>
                            <div class="checkbox-item"><input type="checkbox" id="act5" value="레저/액티비티"><label for="act5">🏄 레저/액티비티</label></div>
                            <div class="checkbox-item"><input type="checkbox" id="act6" value="SNS 사진 명소"><label for="act6">📸 SNS 핫플</label></div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="must-visit">꼭 방문하고 싶은 장소 (선택)</label>
                        <textarea id="must-visit" rows="2" placeholder="예: 황리단길, 보문단지"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="to-avoid">기피하는 장소나 활동 (선택)</label>
                        <textarea id="to-avoid" rows="2" placeholder="예: 사람이 너무 많은 곳"></textarea>
                    </div>

                    <div class="form-group">
                        <label for="transportation">주요 이동 수단은 무엇인가요?</label>
                        <select id="transportation">
                            <option value="렌터카">렌터카</option>
                            <option value="대중교통">대중교통</option>
                            <option value="택시/투어">택시/투어</option>
                        </select>
                    </div>
                     <div class="form-group">
                        <label for="lodging-type">선호하는 숙소 유형은?</label>
                        <select id="lodging-type">
                            <option value="가성비 호텔/리조트">가성비 호텔/리조트</option>
                            <option value="5성급 럭셔리 호텔">5성급 럭셔리 호텔</option>
                            <option value="감성 숙소(펜션,에어비앤비)" selected>감성 숙소(펜션,에어비앤비)</option>
                            <option value="게스트하우스">게스트하우스</option>
                        </select>
                    </div>
                </div>
                <button type="submit" id="generate-btn">나만의 여행 코스 만들기 ✨</button>
            </form>
            
            <div id="loading" class="hidden">
                <div class="spinner"></div>
                <p>최고의 코스를 생성 중입니다... 잠시만 기다려주세요!</p>
            </div>

            <section id="result-container" class="hidden">
                <div class="result-header">
                    <h2 id="plan-title"></h2>
                    <div class="result-actions">
                        <button id="share-btn" title="공유하기">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="18" cy="5" r="3"></circle><circle cx="6" cy="12" r="3"></circle><circle cx="18" cy="19" r="3"></circle><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line></svg>
                            <span>공유</span>
                        </button>
                    </div>
                    <div id="day-tabs"></div>
                </div>
                <div class="result-body">
                    <div id="itinerary-panel">
                        <div class="timeline"></div>
                    </div>
                    <div id="map-panel">
                        <div id="main-map"></div>
                        <div id="route-comparison-container" class="hidden"></div>
                    </div>
                </div>
            </section>
        </main>
        <div id="toast-message" class="hidden">
            클립보드에 링크가 복사되었습니다!
        </div>
    </div>
    <script src="{{ url_for('static', filename='script.js') }}"></script>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key={{ Maps_api_key }}&libraries=places,marker,directions&callback=initMap"></script>
</body>
</html>


